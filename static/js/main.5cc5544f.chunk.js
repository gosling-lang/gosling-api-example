(this["webpackJsonpgosling-cistrome"]=this["webpackJsonpgosling-cistrome"]||[]).push([[0],{74:function(e,t,i){},76:function(e,t,i){},82:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(18),r=i.n(a),o=i(34),l=i(1),d=i(36),s=i(37),c=i(31),m=i(32),f=(i(74),i(3));var p=function(e){var t=c.parse(e.location.search,{ignoreQueryPrefix:!0}),i=null===t||void 0===t?void 0:t.id,a=Object(n.useState)(window.innerWidth),r=Object(s.a)(a,2),o=r[0],l=r[1],p=Object(n.useRef)();function g(e,t){(null===p||void 0===p?void 0:p.current)&&(p.current.api.zoomToGene("detail-view",e,1e3),p.current.api.zoomTo("overview",t,1e3))}function y(){l(window.innerWidth)}Object(n.useEffect)((function(){window.addEventListener("resize",y)}),[]);var u=Object(n.useMemo)((function(){return function(e){var t=e.cid,i=e.width,n=void 0===i?2e3:i,a=e.height,r=void 0===a?500:a,o="#D34B6C",l="#5688B9",d="http://dc2.cistrome.org/genome_browser/bw/".concat(t,"_treat.bw");return{title:"Explore Cistrome Data Using Gosling.js",subtitle:"Cistrome ID: ".concat(t),spacing:50,views:[{id:"overview",title:"Ideogram",xDomain:{chromosome:"3"},layout:"linear",alignment:"overlay",data:{url:"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/UCSC.HG38.Human.CytoBandIdeogram.csv",type:"csv",chromosomeField:"Chromosome",genomicFields:["chromStart","chromEnd"]},tracks:[{mark:"text",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen"],not:!0}],text:{field:"Name",type:"nominal"},color:{field:"Stain",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar"],range:["black","black","black","black","white","black"]},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}],style:{textStrokeWidth:0}},{mark:"rect",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen"],not:!0}],color:{field:"Stain",type:"nominal",domain:["gneg","gpos25","gpos50","gpos75","gpos100","gvar"],range:["white","#D9D9D9","#979797","#636363","black","#A0A0F2"]}},{mark:"triangleRight",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen"]},{type:"filter",field:"Name",include:"q"}],color:{value:"#B40101"}},{mark:"triangleLeft",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen"]},{type:"filter",field:"Name",include:"p"}],color:{value:"#B40101"}},{mark:"brush",x:{linkingId:"detail"},color:{value:"#D34B6C"},stroke:{value:"red"},strokeWidth:{value:2}}],x:{field:"chromStart",type:"genomic"},xe:{field:"chromEnd",type:"genomic"},stroke:{value:"gray"},strokeWidth:{value:.5},style:{outline:"black",outlineWidth:1},width:n,height:25},{xDomain:{chromosome:"3",interval:[1425e5,143e6]},linkingId:"detail",tracks:[{id:"detail-view",alignment:"overlay",title:"hg38 | Genes",data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation",type:"beddb",genomicFields:[{index:1,name:"start"},{index:2,name:"end"}],valueFields:[{index:5,name:"strand",type:"nominal"},{index:3,name:"name",type:"nominal"}],exonIntervalFields:[{index:12,name:"start"},{index:13,name:"end"}]},tracks:[{dataTransform:[{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["+"]}],mark:"triangleRight",x:{field:"end",type:"genomic",axis:"top"},size:{value:15}},{dataTransform:[{type:"filter",field:"type",oneOf:["gene"]}],mark:"text",text:{field:"name",type:"nominal"},x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"},style:{dy:-15,outline:"black"}},{dataTransform:[{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["-"]}],mark:"triangleLeft",x:{field:"start",type:"genomic"},size:{value:15},style:{align:"right",outline:"black"}},{dataTransform:[{type:"filter",field:"type",oneOf:["exon"]}],mark:"rect",x:{field:"start",type:"genomic"},size:{value:15},xe:{field:"end",type:"genomic"}},{dataTransform:[{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["+"]}],mark:"rule",x:{field:"start",type:"genomic"},strokeWidth:{value:2},xe:{field:"end",type:"genomic"},style:{linePattern:{type:"triangleRight",size:3.5},outline:"black"}},{dataTransform:[{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["-"]}],mark:"rule",x:{field:"start",type:"genomic"},strokeWidth:{value:2},xe:{field:"end",type:"genomic"},style:{linePattern:{type:"triangleLeft",size:3.5},outline:"black"}}],row:{field:"strand",type:"nominal",domain:["+","-"]},color:{field:"strand",type:"nominal",domain:["+","-"],range:[o,l]},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}],opacity:{value:.8},style:{background:"white"},width:350,height:100},{title:"hg38 | GENECODE Transcript (Max. 15 Rows)",alignment:"overlay",data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=transcript-hg38-beddb",type:"beddb",genomicFields:[{index:1,name:"start"},{index:2,name:"end"}],valueFields:[{index:5,name:"strand",type:"nominal"},{index:3,name:"name",type:"nominal"}]},dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]}],tracks:[{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["+"]}],mark:"triangleRight",x:{field:"end",type:"genomic"},size:{value:15}},{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]}],mark:"text",text:{field:"name",type:"nominal"},x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"},style:{dy:-10,outline:"black"}},{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["-"]}],mark:"triangleLeft",x:{field:"start",type:"genomic"},size:{value:15},style:{align:"right",outline:"black"}},{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["exon"]}],mark:"rect",x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"}},{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["+"]}],mark:"rule",x:{field:"start",type:"genomic"},strokeWidth:{value:2},xe:{field:"end",type:"genomic"},style:{linePattern:{type:"triangleRight",size:3.5},outline:"black"}},{dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end"},newField:"row",maxRows:15},{type:"filter",field:"type",oneOf:["gene"]},{type:"filter",field:"strand",oneOf:["-"]}],mark:"rule",x:{field:"start",type:"genomic"},strokeWidth:{value:2},xe:{field:"end",type:"genomic"},style:{linePattern:{type:"triangleRight",size:3.5},outline:"black"}}],row:{field:"row",type:"nominal"},color:{field:"strand",type:"nominal",domain:["+","-"],range:[o,l]},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}],opacity:{value:.8},style:{outline:"black",background:"white"},width:n,height:r}]},{xDomain:{chromosome:"3",interval:[1425e5,143e6]},linkingId:"detail",tracks:[{data:{url:d,type:"bigwig",column:"position",value:"peak",binSize:8},title:"Cistrome ID: "+t,mark:"bar",x:{field:"start",type:"genomic",axis:"none"},xe:{field:"end",type:"genomic",axis:"none"},y:{field:"peak",type:"quantitative"},color:{value:o},style:{outline:"gray"},width:n,height:40}]}]}}({cid:i,width:o-120-400})}),[i,o]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.GoslingComponent,{ref:p,spec:u,compiled:function(e,t){}}),Object(f.jsxs)("div",{className:"gene-list",children:[Object(f.jsx)("h4",{children:"Navigation"}),Object(f.jsx)("h5",{children:"Chromosome"}),[].concat(Object(d.a)(Array.from(Array(22).keys()).map((function(e){return e+1}))),["X","Y"]).map((function(e){return Object(f.jsx)("span",{className:"chr-button",onClick:function(){return t="chr".concat(e),void((null===p||void 0===p?void 0:p.current)&&(p.current.api.zoomTo("detail-view",t,1e3),p.current.api.zoomTo("overview",t,1e3)));var t},children:"chr".concat(e)})})),Object(f.jsx)("h5",{children:"Gene"}),Object(f.jsx)("div",{className:"gene-button",onClick:function(){return g("TP53","chr17")},children:"TP53"}),Object(f.jsx)("div",{className:"gene-button",onClick:function(){return g("TNF","chr6")},children:"TNF"}),Object(f.jsx)("div",{className:"gene-button",onClick:function(){return g("MYC","chr8")},children:"MYC"})]})]})};i(76);r.a.render(Object(f.jsx)(o.a,{children:Object(f.jsx)(l.a,{component:p})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.5cc5544f.chunk.js.map