{"version":3,"sources":["App.js","gos-template.js","index.js"],"names":["App","props","urlParams","qs","location","search","ignoreQueryPrefix","cid","id","useState","window","innerWidth","setInnerWidth","gosRef","useRef","onZoom","gene","pos","current","api","zoomToGene","zoomTo","onResize","useEffect","addEventListener","newSpec","useMemo","width","height","plusColor","minusColor","bw","title","subtitle","spacing","views","xDomain","chromosome","layout","alignment","data","url","type","chromosomeField","genomicFields","tracks","mark","dataTransform","field","oneOf","not","text","color","domain","range","visibility","operation","measure","threshold","transitionPadding","target","style","textStrokeWidth","include","value","x","linkingId","stroke","strokeWidth","xe","outline","outlineWidth","interval","index","name","valueFields","exonIntervalFields","axis","size","dy","align","linePattern","row","opacity","background","method","boundingBox","startField","endField","newField","maxRows","column","binSize","y","getSpec","ref","spec","compiled","vConf","className","Array","from","keys","map","d","k","onClick","chr","ReactDOM","render","component","document","getElementById"],"mappings":"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","file":"static/js/main.5cc5544f.chunk.js","sourcesContent":["import * as qs from 'qs';\nimport { validateGoslingSpec, GoslingComponent } from \"gosling.js\";\nimport { getSpec } from \"./gos-template\";\nimport './App.css';\nimport { useEffect, useMemo, useRef, useState } from 'react';\n\nfunction App(props) {\n  // url parameters\n  const urlParams = qs.parse(props.location.search, { ignoreQueryPrefix: true });\n  const cid = urlParams?.id; // Cistrome ID\n\n  // visual parameters\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n\n  // API of gosling.js\n  const gosRef = useRef();\n\n  function onZoom(gene, pos) {\n    if(!gosRef?.current) return;\n\n    gosRef.current.api.zoomToGene('detail-view', gene, 1000);\n    gosRef.current.api.zoomTo('overview', pos, 1000);\n  }\n\n  function onZoomChr(chr) {\n    if(!gosRef?.current) return;\n\n    gosRef.current.api.zoomTo('detail-view', chr, 1000);\n    gosRef.current.api.zoomTo('overview', chr, 1000);\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", onResize);\n  }, []);\n  \n  function onResize() {\n    setInnerWidth(window.innerWidth);\n  }\n\n  // validate the spec\n  // const validity = validateGoslingSpec(getSpec({cid}));\n  // if(validity.state === 'error') {\n  //     console.warn('Gosling spec is invalid!', validity.message);\n  //     return;\n  // }\n\n  const newSpec = useMemo(() => {\n    return getSpec({\n      cid, width: innerWidth - 120 /* padding */ - 400 /* gene panel on the right */\n    })\n  }, [cid, innerWidth]);\n\n  return (\n    <>\n      <GoslingComponent\n        ref={gosRef}\n        spec={newSpec}\n        compiled={(spec, vConf) => { /* Callback function when compiled */ }}\n      />\n      <div className=\"gene-list\">\n        <h4>Navigation</h4>\n        <h5>Chromosome</h5>\n        {\n          [...Array.from(Array(22).keys()).map(d => d+1), 'X', 'Y'].map(k => <span className=\"chr-button\" onClick={() => onZoomChr(`chr${k}`)}>{`chr${k}`}</span>)\n        }\n        <h5>Gene</h5>\n        <div className=\"gene-button\" onClick={() => onZoom('TP53', 'chr17')}>TP53</div>\n        <div className=\"gene-button\" onClick={() => onZoom('TNF', 'chr6')}>TNF</div>\n        <div className=\"gene-button\" onClick={() => onZoom('MYC', 'chr8')}>MYC</div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","export const getSpec = ({ cid, width = 2000, height = 500 }) => {\n  // \"#0072B2\", \"#D45E00\"\n  const plusColor = \"#D34B6C\";\n  const minusColor = \"#5688B9\";\n\n  const bw = `http://dc2.cistrome.org/genome_browser/bw/${cid}_treat.bw`;\n\n  return {\n    title: \"Explore Cistrome Data Using Gosling.js\",\n    subtitle: `Cistrome ID: ${cid}`,\n    spacing: 50,\n    views: [\n      {\n        id: 'overview',\n        title: \"Ideogram\",\n        xDomain: { chromosome: \"3\" },\n        layout: \"linear\",\n        alignment: \"overlay\",\n        data: {\n          url:\n            \"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/UCSC.HG38.Human.CytoBandIdeogram.csv\",\n          type: \"csv\",\n          chromosomeField: \"Chromosome\",\n          genomicFields: [\"chromStart\", \"chromEnd\"],\n        },\n        tracks: [\n          {\n            mark: \"text\",\n            dataTransform: [{ type: 'filter', field: \"Stain\", oneOf: [\"acen\"], not: true }],\n            text: { field: \"Name\", type: \"nominal\" },\n            color: {\n              field: \"Stain\",\n              type: \"nominal\",\n              domain: [\"gneg\", \"gpos25\", \"gpos50\", \"gpos75\", \"gpos100\", \"gvar\"],\n              range: [\"black\", \"black\", \"black\", \"black\", \"white\", \"black\"],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            style: { textStrokeWidth: 0 },\n          },\n          {\n            mark: \"rect\",\n            dataTransform: [{ type: 'filter', field: \"Stain\", oneOf: [\"acen\"], not: true }],\n            color: {\n              field: \"Stain\",\n              type: \"nominal\",\n              domain: [\"gneg\", \"gpos25\", \"gpos50\", \"gpos75\", \"gpos100\", \"gvar\"],\n              range: [\n                \"white\",\n                \"#D9D9D9\",\n                \"#979797\",\n                \"#636363\",\n                \"black\",\n                \"#A0A0F2\",\n              ],\n            },\n          },\n          {\n            mark: \"triangleRight\",\n            dataTransform: [\n                { type: 'filter', field: \"Stain\", oneOf: [\"acen\"] },\n                { type: 'filter', field: \"Name\", include: \"q\" },\n              ],\n            color: { value: \"#B40101\" },\n          },\n          {\n            mark: \"triangleLeft\",\n            dataTransform: [\n                { type: 'filter', field: \"Stain\", oneOf: [\"acen\"] },\n                { type: 'filter', field: \"Name\", include: \"p\" },\n            ],\n            color: { value: \"#B40101\" },\n          },\n          {\n            mark: \"brush\",\n            x: { linkingId: \"detail\" },\n            color: { value: \"#D34B6C\" },\n            stroke: {value: 'red'},\n            strokeWidth: {value: 2}\n          },\n        ],\n        x: { field: \"chromStart\", type: \"genomic\" },\n        xe: { field: \"chromEnd\", type: \"genomic\" },\n        stroke: { value: \"gray\" },\n        strokeWidth: { value: 0.5 },\n        style: { outline: \"black\", outlineWidth: 1 },\n        width,\n        height: 25,\n      },\n      {\n        xDomain: { chromosome: \"3\", interval: [142500000, 143000000] },\n        linkingId: \"detail\",\n        tracks: [\n          {\n            id: 'detail-view',\n            alignment: \"overlay\",\n            title: \"hg38 | Genes\",\n            data: {\n              url:\n                \"https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation\",\n              type: \"beddb\",\n              genomicFields: [\n                { index: 1, name: \"start\" },\n                { index: 2, name: \"end\" },\n              ],\n              valueFields: [\n                { index: 5, name: \"strand\", type: \"nominal\" },\n                { index: 3, name: \"name\", type: \"nominal\" },\n              ],\n              exonIntervalFields: [\n                { index: 12, name: \"start\" },\n                { index: 13, name: \"end\" },\n              ],\n            },\n            tracks: [\n              {\n                dataTransform: [\n                    {type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    {type: 'filter', field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                mark: \"triangleRight\",\n                x: { field: \"end\", type: \"genomic\", axis: \"top\" },\n                size: { value: 15 },\n              },\n              {\n                dataTransform: [{type: 'filter', field: \"type\", oneOf: [\"gene\"] }],\n                mark: \"text\",\n                text: { field: \"name\", type: \"nominal\" },\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: { dy: -15, outline: \"black\" },\n              },\n              {\n                dataTransform: [\n                    { type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter', field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                mark: \"triangleLeft\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                style: { align: \"right\", outline: \"black\" },\n              },\n              {\n                dataTransform: [{ type: 'filter',field: \"type\", oneOf: [\"exon\"] }],\n                mark: \"rect\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                xe: { field: \"end\", type: \"genomic\" },\n              },\n              {\n                dataTransform: [\n                    { type: 'filter',field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter',field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 2 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 3.5 },\n                  outline: \"black\",\n                },\n              },\n              {\n                dataTransform: [\n                    { type: 'filter',field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter',field: \"strand\", oneOf: [\"-\"] },\n                ],\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 2 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleLeft\", size: 3.5 },\n                  outline: \"black\",\n                },\n              },\n            ],\n            row: { field: \"strand\", type: \"nominal\", domain: [\"+\", \"-\"] },\n            color: {\n              field: \"strand\",\n              type: \"nominal\",\n              domain: [\"+\", \"-\"],\n              range: [plusColor, minusColor],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            opacity: { value: 0.8 },\n            style: { background: \"white\" },\n            width: 350,\n            height: 100,\n          },\n\n          {\n            title: \"hg38 | GENECODE Transcript (Max. 15 Rows)\",\n            alignment: \"overlay\",\n            data: {\n              url:\n                \"https://server.gosling-lang.org/api/v1/tileset_info/?d=transcript-hg38-beddb\",\n              type: \"beddb\",\n              genomicFields: [\n                { index: 1, name: \"start\" },\n                { index: 2, name: \"end\" },\n              ],\n              valueFields: [\n                { index: 5, name: \"strand\", type: \"nominal\" },\n                { index: 3, name: \"name\", type: \"nominal\" },\n              ],\n            },\n            dataTransform: [\n                {\n                  type: 'displace',\n                  method: \"pile\",\n                  boundingBox: { startField: \"start\", endField: \"end\" },\n                  newField: \"row\",\n                  maxRows: 15,\n                },{type: 'filter', field: \"type\", oneOf: [\"gene\"] }],\n            tracks: [\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  \n                    {type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    {type: 'filter', field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                mark: \"triangleRight\",\n                x: { field: \"end\", type: \"genomic\" },\n                size: { value: 15 },\n              },\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },{ type: 'filter', field: \"type\", oneOf: [\"gene\"] }],\n                mark: \"text\",\n                text: { field: \"name\", type: \"nominal\" },\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: { dy: -10, outline: \"black\" },\n              },\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  \n                    { type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter', field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                mark: \"triangleLeft\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                style: { align: \"right\", outline: \"black\" },\n              },\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                    { type: 'filter', field: \"type\", oneOf: [\"exon\"] }],\n                mark: \"rect\",\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n              },\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                    { type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter', field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 2 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 3.5 },\n                  outline: \"black\",\n                },\n              },\n              {\n                dataTransform: [\n                    {\n                      type: 'displace',\n                      method: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                    { type: 'filter', field: \"type\", oneOf: [\"gene\"] },\n                    { type: 'filter', field: \"strand\", oneOf: [\"-\"] }\n                  ],\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 2 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 3.5 },\n                  outline: \"black\",\n                },\n              },\n            ],\n            row: { field: \"row\", type: \"nominal\" },\n            color: {\n              field: \"strand\",\n              type: \"nominal\",\n              domain: [\"+\", \"-\"],\n              range: [plusColor, minusColor],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            opacity: { value: 0.8 },\n            style: { outline: \"black\", background: \"white\" },\n            width,\n            height,\n          },\n        ],\n      },\n      {\n        xDomain: { chromosome: \"3\", interval: [142500000, 143000000] },\n        linkingId: \"detail\",\n        tracks: [\n          {\n            data: {\n              url: bw,\n              type: \"bigwig\",\n              column: \"position\",\n              value: \"peak\",\n              binSize: 8,\n            },\n            title: \"Cistrome ID: \" + cid,\n            mark: \"bar\",\n            x: { field: \"start\", type: \"genomic\", axis: \"none\" },\n            xe: { field: \"end\", type: \"genomic\", axis: \"none\" },\n            y: { field: \"peak\", type: \"quantitative\" },\n            color: { value: plusColor },\n            style: { outline: \"gray\" },\n            // opacity: { value: 0.6 },\n            width,\n            height: 40,\n          },\n        ],\n      },\n    ],\n  };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}