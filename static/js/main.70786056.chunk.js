(this["webpackJsonpgosling-cistrome"]=this["webpackJsonpgosling-cistrome"]||[]).push([[0],{72:function(e,t,n){},74:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(21),o=n.n(i),r=n(36),l=n(2),s=n(17),d=n(9),a=n(33),u=n(34),j=function(e){e.cids,e.title,e.width,e.height,e.theme;return{tracks:[{data:{url:"https://resgen.io/api/v1/tileset_info/?d=UvVPeLHuRDiYA3qwFlm7xQ",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"]},mark:"bar",x:{field:"position",type:"genomic"},y:{field:"peak",type:"quantitative"}}]}},h=(n(72),n(0)),v=1e3,b=window.innerWidth;var p=function(e){var t,n,i,o,r,l,p,O,m,x,f,g,w,_,k,y,N,C,D,E,S,T="1",A=Object(c.useState)(T),P=Object(d.a)(A,2),I=P[0],U=P[1],z=Object(c.useState)(),F=Object(d.a)(z,2),G=F[0],L=F[1],R=Object(c.useState)(b),q=Object(d.a)(R,2),B=q[0],J=q[1],M=Object(c.useState)(void 0),W=Object(d.a)(M,2),Y=W[0],K=W[1],V=Object(c.useState)(void 0),H=Object(d.a)(V,2),Q=H[0],X=H[1],Z=Object(c.useState)("light"),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ne=Object(c.useRef)();function ce(e){(null===ne||void 0===ne?void 0:ne.current)&&e.includes("chr")&&e.includes(":")&&e.includes("-")&&(ne.current.api.zoomTo("overview",e.split(":")[0],v),ne.current.api.zoomTo("detail-view",e,v))}function ie(e){(null===ne||void 0===ne?void 0:ne.current)&&(e?ne.current.api.exportPDF():ne.current.api.exportPNG())}Object(c.useEffect)((function(){window.addEventListener("resize",Object(a.debounce)((function(e){J(window.innerWidth)}),1e3)),oe(T)}),[]);var oe=function(e){fetch("http://dc2.cistrome.org/api/inspector?id=".concat(e)).then((function(e){return e.ok||console.log("Error: ".concat(e.statusText)),e.json()})).then((function(e){K(e)})).catch((function(e){console.warn(e)}))};Object(c.useEffect)((function(){+I&&(oe(I),fetch("http://dc2.cistrome.org/api/putative_target_ng?gene=&id=".concat(I)).then((function(e){return e.ok||console.log("Error: ".concat(e.statusText)),e.json()})).then((function(e){X(e)})).catch((function(e){console.warn(e)})))}),[I]),Object(c.useEffect)((function(){G&&ce(G)}),[G]);var re=function(e){var t,n,c;return[null===e||void 0===e?void 0:e.id,null===e||void 0===e||null===(t=e.treats[0])||void 0===t?void 0:t.name,null===e||void 0===e||null===(n=e.treats[0])||void 0===n?void 0:n.cell_line__name,null===e||void 0===e||null===(c=e.treats[0])||void 0===c?void 0:c.cell_type__name].join(" | ")},le=Object(c.useMemo)((function(){return console.log("metadata",Y),j({theme:ee,cids:[null===Y||void 0===Y?void 0:Y.id],title:[re(Y)],width:B-40-400-400})}),[ee,Y,B]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"vis ".concat(ee),children:Object(h.jsx)(u.GoslingComponent,{ref:ne,spec:le,padding:20,compiled:function(e,t){}})}),Object(h.jsx)("div",{className:"Mus musculus"===(null===Y||void 0===Y||null===(t=Y.treats)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.species__name)?"vis-overlay":"vis-overlay-hidden",children:"Mouse Genome Is Not Supported Yet"}),Object(h.jsxs)("div",{className:"gene-list ".concat(ee),children:[Object(h.jsx)("h5",{children:"Cistrome ID"}),Object(h.jsx)("input",{className:"search-box",type:"text",defaultValue:T,name:"default name",placeholder:"Cistrome ID (e.g., ".concat(T,")"),onKeyDown:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":break;case"Enter":U(e.target.value)}}}),Object(h.jsx)("h5",{children:"Navigation"}),Object(h.jsx)("input",{className:"search-box",type:"text",name:"default name",placeholder:"chr6:151690496-152103274",onKeyDown:function(e){switch(e.key){case"ArrowUp":case"ArrowDown":break;case"Enter":L(e.target.value)}}}),Object(h.jsx)("h5",{children:"Chromosomes"}),[].concat(Object(s.a)(Array.from(Array(22).keys()).map((function(e){return e+1}))),["X","Y"]).map((function(e){return Object(h.jsx)("span",{className:"chr-button",onClick:function(){return t="chr".concat(e),void((null===ne||void 0===ne?void 0:ne.current)&&(ne.current.api.zoomTo("detail-view",t,v),ne.current.api.zoomTo("overview",t,v)));var t},children:"chr".concat(e)},e)})),Object(h.jsxs)("h5",{children:["Putative Targets ",Object(h.jsx)("a",{className:"sub-info",href:"http://dc2.cistrome.org/api/putative_target_ng?gene=&id=".concat(I),children:"Raw Data"})]}),null===Q||void 0===Q||null===(i=Q.filter((function(e){return e.symbol===e.symbol.toUpperCase()||!0})).slice(0,10))||void 0===i?void 0:i.map((function(e){return Object(h.jsx)("div",{className:"gene-button",onClick:function(){return ce(e.visual_coordinate)},children:e.symbol},e.symbol)})),Object(h.jsx)("h5",{children:"Theme"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return te("light")},children:"Light"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return te("dark")},children:"Dark"}),Object(h.jsx)("h5",{children:"Export"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return ie(!0)},children:"PDF"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return ie(!1)},children:"PNG"})]}),Object(h.jsxs)("div",{className:"metadata-table ".concat(ee),children:[Object(h.jsx)("h5",{children:"Inspector"}),Object(h.jsxs)("table",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"GEO or ENCODE"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(o=Y.treats)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.unique_id})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Cistrome ID"}),Object(h.jsx)("td",{children:null===Y||void 0===Y?void 0:Y.id})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Species"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(l=Y.treats)||void 0===l||null===(p=l[0])||void 0===p?void 0:p.species__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Cell Line"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(O=Y.treats)||void 0===O||null===(m=O[0])||void 0===m?void 0:m.cell_line__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Cell Type"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(x=Y.treats)||void 0===x||null===(f=x[0])||void 0===f?void 0:f.cell_type__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Tissue"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(g=Y.treats)||void 0===g||null===(w=g[0])||void 0===w?void 0:w.tissue_type__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Disease"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(_=Y.treats)||void 0===_||null===(k=_[0])||void 0===k?void 0:k.disease_state__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Factor"}),Object(h.jsx)("td",{children:null===Y||void 0===Y||null===(y=Y.treats)||void 0===y||null===(N=y[0])||void 0===N?void 0:N.factor__name})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Paper"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:null===Y||void 0===Y||null===(C=Y.treats)||void 0===C||null===(D=C[0])||void 0===D?void 0:D.link,target:"_blank",rel:"noopener noreferrer",children:null===Y||void 0===Y||null===(E=Y.treats)||void 0===E||null===(S=E[0])||void 0===S?void 0:S.paper__reference})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"Raw Data"}),Object(h.jsx)("td",{children:Object(h.jsx)("a",{href:"http://dc2.cistrome.org/api/inspector?id=".concat(null===Y||void 0===Y?void 0:Y.id),target:"_blank",rel:"noopener noreferrer",children:"JSON"})})]})]}),Object(h.jsx)("h5",{children:"Expernal Links"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return window.open("http://dc2.cistrome.org/api/batchview/h/".concat(I.split(",").join("_"),"/w/"),"_blank")},children:"Wash U Browser"}),Object(h.jsx)("div",{className:"gene-button",onClick:function(){return window.open("http://dc2.cistrome.org/api/batchview/h/".concat(I.split(",").join("_"),"/u/"),"_blank")},children:"UCSC Browser"})]})]})};n(74);o.a.render(Object(h.jsx)(r.a,{children:Object(h.jsx)(l.a,{component:p})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.70786056.chunk.js.map