{"version":3,"sources":["App.js","gos-template.js","index.js"],"names":["App","props","urlParams","qs","location","search","ignoreQueryPrefix","cid","id","useState","window","innerWidth","setInnerWidth","onResize","useEffect","addEventListener","newSpec","useMemo","width","height","plusColor","minusColor","bw","title","subtitle","spacing","views","xDomain","chromosome","layout","alignment","data","url","type","chromosomeField","genomicFields","tracks","mark","dataTransform","filter","field","oneOf","not","text","color","domain","range","visibility","operation","measure","threshold","transitionPadding","target","style","textStrokeWidth","include","value","x","linkingId","xe","stroke","strokeWidth","outline","outlineWidth","interval","index","name","valueFields","exonIntervalFields","axis","size","dy","align","linePattern","row","opacity","background","displace","boundingBox","startField","endField","newField","maxRows","column","y","getSpec","spec","compiled","vConf","className","ReactDOM","render","component","document","getElementById"],"mappings":"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","file":"static/js/main.0d7b5f84.chunk.js","sourcesContent":["import * as qs from 'qs';\nimport { validateGoslingSpec, GoslingComponent } from \"gosling.js\";\nimport { getSpec } from \"./gos-template\";\nimport './App.css';\nimport { useEffect, useMemo, useState } from 'react';\n\nfunction App(props) {\n  // url parameters\n  const urlParams = qs.parse(props.location.search, { ignoreQueryPrefix: true });\n  const cid = urlParams?.id; // Cistrome ID\n\n  // visual parameters\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", onResize);\n  }, []);\n  \n  function onResize() {\n    setInnerWidth(window.innerWidth);\n  }\n\n  // validate the spec\n  // const validity = validateGoslingSpec(getSpec({cid}));\n  // if(validity.state === 'error') {\n  //     console.warn('Gosling spec is invalid!', validity.message);\n  //     return;\n  // }\n\n  const newSpec = useMemo(() => {\n    return getSpec({\n      cid, width: innerWidth - 120 /* padding */ - 400 /* gene panel on the right */\n    })\n  }, [cid, innerWidth]);\n\n  return (\n    <>\n      <GoslingComponent\n        spec={newSpec}\n        compiled={(spec, vConf) => { /* Callback function when compiled */ }}\n      />\n      <div className=\"gene-list\">\n        \n      </div>\n    </>\n  );\n}\n\nexport default App;\n","export const getSpec = ({ cid, width = 2000, height = 500 }) => {\n  // \"#0072B2\", \"#D45E00\"\n  const plusColor = \"#D34B6C\";\n  const minusColor = \"#5688B9\";\n\n  const bw = `http://dc2.cistrome.org/genome_browser/bw/${cid}_treat.bw`;\n\n  return {\n    title: \"Cistrome Browser\",\n    subtitle: `Cistrome ID: ${cid}`,\n    spacing: 50,\n    views: [\n      {\n        title: \"Ideogram\",\n        xDomain: { chromosome: \"3\" },\n        layout: \"linear\",\n        alignment: \"overlay\",\n        data: {\n          url:\n            \"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/UCSC.HG38.Human.CytoBandIdeogram.csv\",\n          type: \"csv\",\n          chromosomeField: \"Chromosome\",\n          genomicFields: [\"chromStart\", \"chromEnd\"],\n        },\n        tracks: [\n          {\n            mark: \"text\",\n            dataTransform: {\n              filter: [{ field: \"Stain\", oneOf: [\"acen\"], not: true }],\n            },\n            text: { field: \"Name\", type: \"nominal\" },\n            color: {\n              field: \"Stain\",\n              type: \"nominal\",\n              domain: [\"gneg\", \"gpos25\", \"gpos50\", \"gpos75\", \"gpos100\", \"gvar\"],\n              range: [\"black\", \"black\", \"black\", \"black\", \"white\", \"black\"],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            style: { textStrokeWidth: 0 },\n          },\n          {\n            mark: \"rect\",\n            dataTransform: {\n              filter: [{ field: \"Stain\", oneOf: [\"acen\"], not: true }],\n            },\n            color: {\n              field: \"Stain\",\n              type: \"nominal\",\n              domain: [\"gneg\", \"gpos25\", \"gpos50\", \"gpos75\", \"gpos100\", \"gvar\"],\n              range: [\n                \"white\",\n                \"#D9D9D9\",\n                \"#979797\",\n                \"#636363\",\n                \"black\",\n                \"#A0A0F2\",\n              ],\n            },\n          },\n          {\n            mark: \"triangleRight\",\n            dataTransform: {\n              filter: [\n                { field: \"Stain\", oneOf: [\"acen\"] },\n                { field: \"Name\", include: \"q\" },\n              ],\n            },\n            color: { value: \"#B40101\" },\n          },\n          {\n            mark: \"triangleLeft\",\n            dataTransform: {\n              filter: [\n                { field: \"Stain\", oneOf: [\"acen\"] },\n                { field: \"Name\", include: \"p\" },\n              ],\n            },\n            color: { value: \"#B40101\" },\n          },\n          {\n            mark: \"brush\",\n            x: { linkingId: \"detail\" },\n            color: { value: \"red\" },\n          },\n        ],\n        x: { field: \"chromStart\", type: \"genomic\" },\n        xe: { field: \"chromEnd\", type: \"genomic\" },\n        stroke: { value: \"gray\" },\n        strokeWidth: { value: 0.5 },\n        style: { outline: \"black\", outlineWidth: 1 },\n        width,\n        height: 25,\n      },\n      {\n        xDomain: { chromosome: \"3\", interval: [142500000, 143000000] },\n        linkingId: \"detail\",\n        tracks: [\n          {\n            alignment: \"overlay\",\n            title: \"hg38 | Genes\",\n            data: {\n              url:\n                \"https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation\",\n              type: \"beddb\",\n              genomicFields: [\n                { index: 1, name: \"start\" },\n                { index: 2, name: \"end\" },\n              ],\n              valueFields: [\n                { index: 5, name: \"strand\", type: \"nominal\" },\n                { index: 3, name: \"name\", type: \"nominal\" },\n              ],\n              exonIntervalFields: [\n                { index: 12, name: \"start\" },\n                { index: 13, name: \"end\" },\n              ],\n            },\n            tracks: [\n              {\n                dataTransform: {\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                },\n                mark: \"triangleRight\",\n                x: { field: \"end\", type: \"genomic\", axis: \"top\" },\n                size: { value: 15 },\n              },\n              {\n                dataTransform: {\n                  filter: [{ field: \"type\", oneOf: [\"gene\"] }],\n                },\n                mark: \"text\",\n                text: { field: \"name\", type: \"nominal\" },\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: { dy: -15, outline: \"black\" },\n              },\n              {\n                dataTransform: {\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                },\n                mark: \"triangleLeft\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                style: { align: \"right\", outline: \"black\" },\n              },\n              {\n                dataTransform: {\n                  filter: [{ field: \"type\", oneOf: [\"exon\"] }],\n                },\n                mark: \"rect\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                xe: { field: \"end\", type: \"genomic\" },\n              },\n              {\n                dataTransform: {\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                },\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 3 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 5 },\n                  outline: \"black\",\n                },\n              },\n              {\n                dataTransform: {\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                },\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 3 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleLeft\", size: 5 },\n                  outline: \"black\",\n                },\n              },\n            ],\n            row: { field: \"strand\", type: \"nominal\", domain: [\"+\", \"-\"] },\n            color: {\n              field: \"strand\",\n              type: \"nominal\",\n              domain: [\"+\", \"-\"],\n              range: [plusColor, minusColor],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            opacity: { value: 0.8 },\n            style: { background: \"#FAFAFA\" },\n            width: 350,\n            height: 100,\n          },\n\n          {\n            title: \"hg38 | GENECODE Transcript (Max. 15 Rows)\",\n            alignment: \"overlay\",\n            data: {\n              url:\n                \"https://server.gosling-lang.org/api/v1/tileset_info/?d=transcript-hg38-beddb\",\n              type: \"beddb\",\n              genomicFields: [\n                { index: 1, name: \"start\" },\n                { index: 2, name: \"end\" },\n              ],\n              valueFields: [\n                { index: 5, name: \"strand\", type: \"nominal\" },\n                { index: 3, name: \"name\", type: \"nominal\" },\n              ],\n            },\n            dataTransform: {\n              displace: [\n                {\n                  type: \"pile\",\n                  boundingBox: { startField: \"start\", endField: \"end\" },\n                  newField: \"row\",\n                  maxRows: 15,\n                },\n              ],\n              filter: [{ field: \"type\", oneOf: [\"gene\"] }],\n            },\n            tracks: [\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                },\n                mark: \"triangleRight\",\n                x: { field: \"end\", type: \"genomic\" },\n                size: { value: 15 },\n              },\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [{ field: \"type\", oneOf: [\"gene\"] }],\n                },\n                mark: \"text\",\n                text: { field: \"name\", type: \"nominal\" },\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: { dy: -10, outline: \"black\" },\n              },\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                },\n                mark: \"triangleLeft\",\n                x: { field: \"start\", type: \"genomic\" },\n                size: { value: 15 },\n                style: { align: \"right\", outline: \"black\" },\n              },\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [{ field: \"type\", oneOf: [\"exon\"] }],\n                },\n                mark: \"rect\",\n                x: { field: \"start\", type: \"genomic\" },\n                xe: { field: \"end\", type: \"genomic\" },\n              },\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"+\"] },\n                  ],\n                },\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 3 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 5 },\n                  outline: \"black\",\n                },\n              },\n              {\n                dataTransform: {\n                  displace: [\n                    {\n                      type: \"pile\",\n                      boundingBox: { startField: \"start\", endField: \"end\" },\n                      newField: \"row\",\n                      maxRows: 15,\n                    },\n                  ],\n                  filter: [\n                    { field: \"type\", oneOf: [\"gene\"] },\n                    { field: \"strand\", oneOf: [\"-\"] },\n                  ],\n                },\n                mark: \"rule\",\n                x: { field: \"start\", type: \"genomic\" },\n                strokeWidth: { value: 3 },\n                xe: { field: \"end\", type: \"genomic\" },\n                style: {\n                  linePattern: { type: \"triangleRight\", size: 5 },\n                  outline: \"black\",\n                },\n              },\n            ],\n            row: { field: \"row\", type: \"nominal\" },\n            color: {\n              field: \"strand\",\n              type: \"nominal\",\n              domain: [\"+\", \"-\"],\n              range: [plusColor, minusColor],\n            },\n            visibility: [\n              {\n                operation: \"less-than\",\n                measure: \"width\",\n                threshold: \"|xe-x|\",\n                transitionPadding: 10,\n                target: \"mark\",\n              },\n            ],\n            opacity: { value: 0.8 },\n            style: { outline: \"black\", background: \"#FAFAFA\" },\n            width,\n            height,\n          },\n        ],\n      },\n      {\n        xDomain: { chromosome: \"3\", interval: [142500000, 143000000] },\n        linkingId: \"detail\",\n        tracks: [\n          {\n            data: {\n              url: bw,\n              type: \"bigwig\",\n              column: \"position\",\n              value: \"peak\",\n            //   binSize: 8,\n            },\n            title: \"Cistrome ID: \" + cid,\n            mark: \"bar\",\n            x: { field: \"start\", type: \"genomic\", axis: \"none\" },\n            xe: { field: \"end\", type: \"genomic\", axis: \"none\" },\n            y: { field: \"peak\", type: \"quantitative\" },\n            color: { value: plusColor },\n            style: { outline: \"white\" },\n            width,\n            height: 40,\n          },\n        ],\n      },\n    ],\n  };\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route component={App} />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}